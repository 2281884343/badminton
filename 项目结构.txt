ç¾½æ¯›çƒæ¸¸æˆ - å®Œæ•´é¡¹ç›®ç»“æ„
====================================

bm/
â”‚
â”œâ”€â”€ ğŸ“– æ–‡æ¡£æ–‡ä»¶
â”‚   â”œâ”€â”€ README.md                    # é¡¹ç›®ä¸»æ–‡æ¡£
â”‚   â”œâ”€â”€ å¿«é€Ÿå¼€å§‹.md                  # 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ éƒ¨ç½²æŒ‡å—-Linux.md            # è¯¦ç»†çš„Linuxéƒ¨ç½²æ•™ç¨‹
â”‚   â”œâ”€â”€ Dockeréƒ¨ç½².md                # Dockeréƒ¨ç½²æ–¹æ¡ˆ
â”‚   â”œâ”€â”€ é¡¹ç›®è¯´æ˜.md                  # è¯¦ç»†çš„æŠ€æœ¯è¯´æ˜
â”‚   â””â”€â”€ æ£€æŸ¥æ¸…å•.md                  # éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•
â”‚
â”œâ”€â”€ ğŸš€ éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ deploy.sh                    # è‡ªåŠ¨éƒ¨ç½²è„šæœ¬ï¼ˆä¸€é”®å®‰è£…ä¾èµ–ï¼‰
â”‚   â”œâ”€â”€ start-dev.sh                 # å¼€å‘æ¨¡å¼å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ start-prod.sh                # ç”Ÿäº§æ¨¡å¼å¯åŠ¨è„šæœ¬
â”‚
â”œâ”€â”€ âš™ï¸ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ .gitignore                   # Gitå¿½ç•¥æ–‡ä»¶
â”‚   â”œâ”€â”€ badminton-game.service       # SystemdæœåŠ¡é…ç½®
â”‚   â””â”€â”€ nginx.conf                   # Nginxåå‘ä»£ç†é…ç½®
â”‚
â”œâ”€â”€ ğŸ åç«¯ (Python + FastAPI)
â”‚   â””â”€â”€ backend/
â”‚       â”œâ”€â”€ main.py                  # FastAPIä¸»ç¨‹åº
â”‚       â”‚   â”œâ”€â”€ APIè·¯ç”±
â”‚       â”‚   â”‚   â”œâ”€â”€ POST /api/player/save       - ä¿å­˜ç©å®¶é…ç½®
â”‚       â”‚   â”‚   â”œâ”€â”€ GET  /api/player/{username} - è·å–ç©å®¶é…ç½®
â”‚       â”‚   â”‚   â”œâ”€â”€ GET  /api/skills            - è·å–æŠ€èƒ½åˆ—è¡¨
â”‚       â”‚   â”‚   â”œâ”€â”€ POST /api/room/create       - åˆ›å»ºæˆ¿é—´
â”‚       â”‚   â”‚   â””â”€â”€ GET  /api/rooms             - åˆ—å‡ºæˆ¿é—´
â”‚       â”‚   â”œâ”€â”€ WebSocketè·¯ç”±
â”‚       â”‚   â”‚   â””â”€â”€ WS /ws/{room_id}/{username} - æ¸¸æˆå®æ—¶é€šä¿¡
â”‚       â”‚   â”œâ”€â”€ æ¸¸æˆé€»è¾‘
â”‚       â”‚   â”‚   â”œâ”€â”€ calculate_shot_result()     - è®¡ç®—å‡»çƒç»“æœ
â”‚       â”‚   â”‚   â”œâ”€â”€ can_receive_shot()          - åˆ¤æ–­èƒ½å¦æ¥çƒ
â”‚       â”‚   â”‚   â””â”€â”€ generate_ai_description()   - AIæè¿°ç”Ÿæˆ
â”‚       â”‚   â””â”€â”€ æ•°æ®ç®¡ç†
â”‚       â”‚       â”œâ”€â”€ load_player_profile()       - åŠ è½½ç©å®¶
â”‚       â”‚       â””â”€â”€ save_player_profile()       - ä¿å­˜ç©å®¶
â”‚       â”‚
â”‚       â”œâ”€â”€ requirements.txt         # Pythonä¾èµ–åŒ…
â”‚       â”‚   â”œâ”€â”€ fastapi              - Webæ¡†æ¶
â”‚       â”‚   â”œâ”€â”€ uvicorn              - ASGIæœåŠ¡å™¨
â”‚       â”‚   â”œâ”€â”€ websockets           - WebSocketæ”¯æŒ
â”‚       â”‚   â”œâ”€â”€ openai               - AIå®¢æˆ·ç«¯
â”‚       â”‚   â”œâ”€â”€ pydantic             - æ•°æ®éªŒè¯
â”‚       â”‚   â””â”€â”€ gunicorn             - ç”Ÿäº§æœåŠ¡å™¨
â”‚       â”‚
â”‚       â”œâ”€â”€ .env.example             # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚       â”œâ”€â”€ .env.production          # ç”Ÿäº§ç¯å¢ƒé…ç½®æ¨¡æ¿
â”‚       â”‚
â”‚       â””â”€â”€ data/                    # æ•°æ®ç›®å½•
â”‚           â””â”€â”€ players/             # ç©å®¶é…ç½®æ–‡ä»¶å­˜å‚¨
â”‚               â”œâ”€â”€ .gitkeep         # ä¿æŒç›®å½•ç»“æ„
â”‚               â””â”€â”€ {username}.json  # ç©å®¶é…ç½®æ–‡ä»¶
â”‚
â””â”€â”€ ğŸ¨ å‰ç«¯ (React + TypeScript + Vite)
    â””â”€â”€ frontend/
        â”œâ”€â”€ ğŸ“„ é…ç½®æ–‡ä»¶
        â”‚   â”œâ”€â”€ package.json         # Node.jsä¾èµ–å’Œè„šæœ¬
        â”‚   â”œâ”€â”€ tsconfig.json        # TypeScripté…ç½®
        â”‚   â”œâ”€â”€ tsconfig.node.json   # Nodeç¯å¢ƒTSé…ç½®
        â”‚   â”œâ”€â”€ vite.config.ts       # Viteæ„å»ºé…ç½®
        â”‚   â””â”€â”€ .env.example         # ç¯å¢ƒå˜é‡ç¤ºä¾‹
        â”‚
        â”œâ”€â”€ ğŸ“ HTMLå…¥å£
        â”‚   â””â”€â”€ index.html           # HTMLæ¨¡æ¿
        â”‚
        â””â”€â”€ ğŸ’» æºä»£ç 
            â””â”€â”€ src/
                â”œâ”€â”€ main.tsx         # Reactå…¥å£æ–‡ä»¶
                â”œâ”€â”€ App.tsx          # ä¸»åº”ç”¨ç»„ä»¶
                â”‚   â”œâ”€â”€ çŠ¶æ€ç®¡ç†
                â”‚   â”‚   â”œâ”€â”€ gameState (setup/lobby/game)
                â”‚   â”‚   â”œâ”€â”€ playerProfile
                â”‚   â”‚   â””â”€â”€ roomId
                â”‚   â””â”€â”€ è·¯ç”±æ§åˆ¶
                â”‚
                â”œâ”€â”€ index.css        # å…¨å±€æ ·å¼
                â”‚   â”œâ”€â”€ åŸºç¡€æ ·å¼
                â”‚   â”œâ”€â”€ æŒ‰é’®æ ·å¼
                â”‚   â”œâ”€â”€ è¡¨å•æ ·å¼
                â”‚   â”œâ”€â”€ æ¸¸æˆç•Œé¢æ ·å¼
                â”‚   â””â”€â”€ å“åº”å¼å¸ƒå±€
                â”‚
                â””â”€â”€ components/      # Reactç»„ä»¶
                    â”‚
                    â”œâ”€â”€ PlayerSetup.tsx       # ç©å®¶é…ç½®é¡µé¢
                    â”‚   â”œâ”€â”€ ç”¨æˆ·åè¾“å…¥
                    â”‚   â”œâ”€â”€ 10ç§æŠ€èƒ½ç†Ÿç»ƒåº¦è®¾ç½®
                    â”‚   â”œâ”€â”€ åŠ è½½å·²æœ‰é…ç½®
                    â”‚   â””â”€â”€ ä¿å­˜é…ç½®
                    â”‚
                    â”œâ”€â”€ GameLobby.tsx         # æ¸¸æˆå¤§å…
                    â”‚   â”œâ”€â”€ æ¨¡å¼é€‰æ‹© (å•æ‰“/åŒæ‰“)
                    â”‚   â”œâ”€â”€ åˆ›å»ºæˆ¿é—´
                    â”‚   â”œâ”€â”€ åŠ å…¥æˆ¿é—´
                    â”‚   â””â”€â”€ ç©å®¶æŠ€èƒ½é¢„è§ˆ
                    â”‚
                    â””â”€â”€ GameRoom.tsx          # æ¸¸æˆæˆ¿é—´
                        â”œâ”€â”€ WebSocketè¿æ¥ç®¡ç†
                        â”œâ”€â”€ å®æ—¶æ¶ˆæ¯å¤„ç†
                        â”œâ”€â”€ æ¯”åˆ†æ˜¾ç¤º
                        â”œâ”€â”€ ç©å®¶åˆ—è¡¨
                        â”œâ”€â”€ æŠ€èƒ½é€‰æ‹©
                        â”œâ”€â”€ å¯¹è¯è¾“å…¥
                        â”œâ”€â”€ å‡»çƒæŒ‰é’®
                        â””â”€â”€ æ¯”èµ›è®°å½•æ—¥å¿—

====================================
æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
====================================

1. ğŸ² éšæœºæ•°åˆ¤å®šç³»ç»Ÿ
   - åŸºç¡€éšæœºæ•° (1-20)
   - æŠ€èƒ½ç†Ÿç»ƒåº¦æµ®åŠ¨
   - ä½è´¨é‡çƒåŠ æˆ
   - å¤§æˆåŠŸ/å¤§å¤±è´¥åˆ¤å®š

2. ğŸ¤– AIè§£è¯´ç³»ç»Ÿ
   - Moonshot AIé›†æˆ
   - 20å­—ä»¥å†…æè¿°
   - æ ¹æ®å±€åŠ¿è°ƒæ•´
   - é™çº§ç­–ç•¥

3. ğŸ“Š æŠ€èƒ½ç³»ç»Ÿ
   - 10ç§ç¾½æ¯›çƒæŠ€æœ¯
   - -100åˆ°100ç†Ÿç»ƒåº¦èŒƒå›´
   - ç‹¬ç«‹é…ç½®æ¯ä¸ªæŠ€èƒ½
   - å½±å“åˆ¤å®šç»“æœ

4. ğŸŒ ç½‘ç»œå¯¹æˆ˜
   - WebSocketå®æ—¶é€šä¿¡
   - æˆ¿é—´ç®¡ç†
   - å¤šäººåŒæ­¥
   - æ–­çº¿å¤„ç†

5. ğŸ’¾ æ•°æ®æŒä¹…åŒ–
   - JSONæ–‡ä»¶å­˜å‚¨
   - è‡ªåŠ¨ä¿å­˜ç©å®¶é…ç½®
   - æ”¯æŒåŠ è½½å’Œä¿®æ”¹

====================================
æŠ€æœ¯æ ˆæ€»è§ˆ
====================================

åç«¯ï¼š
  - Python 3.8+
  - FastAPI (Webæ¡†æ¶)
  - Uvicorn (ASGIæœåŠ¡å™¨)
  - WebSocket (å®æ—¶é€šä¿¡)
  - OpenAI SDK (AIé›†æˆ)
  - Pydantic (æ•°æ®éªŒè¯)

å‰ç«¯ï¼š
  - React 18 (UIæ¡†æ¶)
  - TypeScript (ç±»å‹ç³»ç»Ÿ)
  - Vite (æ„å»ºå·¥å…·)
  - WebSocket API (å®æ—¶é€šä¿¡)
  - CSS3 (æ ·å¼)

éƒ¨ç½²ï¼š
  - Nginx (åå‘ä»£ç†)
  - Systemd (æœåŠ¡ç®¡ç†)
  - Gunicorn (ç”Ÿäº§æœåŠ¡å™¨)
  - Let's Encrypt (SSLè¯ä¹¦)

====================================
ç«¯å£ä½¿ç”¨
====================================

- 8000: åç«¯APIå’ŒWebSocket
- 3000: å‰ç«¯å¼€å‘æœåŠ¡å™¨
- 80:   Nginx HTTP (ç”Ÿäº§ç¯å¢ƒ)
- 443:  Nginx HTTPS (ç”Ÿäº§ç¯å¢ƒ)

====================================
æ•°æ®æµç¨‹
====================================

1. ç”¨æˆ·é…ç½®
   ç”¨æˆ· -> PlayerSetup -> POST /api/player/save -> JSONæ–‡ä»¶

2. åˆ›å»ºæˆ¿é—´
   ç”¨æˆ· -> GameLobby -> POST /api/room/create -> å†…å­˜æˆ¿é—´

3. åŠ å…¥æˆ¿é—´
   ç”¨æˆ· -> GameRoom -> WebSocketè¿æ¥ -> æˆ¿é—´åŒæ­¥

4. å‡»çƒåŠ¨ä½œ
   ç”¨æˆ· -> é€‰æ‹©æŠ€èƒ½ -> WebSocketå‘é€
   -> åç«¯è®¡ç®— -> AIç”Ÿæˆæè¿° -> WebSocketå¹¿æ’­
   -> æ‰€æœ‰ç©å®¶æ¥æ”¶æ›´æ–°

5. æ¯”åˆ†æ›´æ–°
   åç«¯åˆ¤å®šå¾—åˆ† -> æ›´æ–°æ¸¸æˆçŠ¶æ€
   -> WebSocketå¹¿æ’­ -> å‰ç«¯æ›´æ–°ç•Œé¢

====================================
æ–‡ä»¶å¤§å°ä¼°ç®—
====================================

åç«¯ï¼š
  - main.py: ~15KB
  - venv/: ~100MB (å®‰è£…ä¾èµ–å)
  - data/: ~1KB per player

å‰ç«¯ï¼š
  - src/: ~50KB
  - node_modules/: ~200MB
  - dist/ (æ„å»ºå): ~500KB

æ€»è®¡ï¼šçº¦300MBï¼ˆå«ä¾èµ–ï¼‰

====================================
ä»£ç ç»Ÿè®¡
====================================

åç«¯ï¼š
  - main.py: ~450è¡Œ
  - æ ¸å¿ƒé€»è¾‘: ~300è¡Œ
  - APIè·¯ç”±: ~100è¡Œ
  - WebSocket: ~50è¡Œ

å‰ç«¯ï¼š
  - æ€»è®¡: ~800è¡Œ
  - App.tsx: ~50è¡Œ
  - PlayerSetup.tsx: ~150è¡Œ
  - GameLobby.tsx: ~100è¡Œ
  - GameRoom.tsx: ~400è¡Œ
  - index.css: ~250è¡Œ

æ–‡æ¡£ï¼š
  - æ€»è®¡: ~2000è¡Œ

====================================

